import{r as h,u as A,A as D,j as s,f as I}from"./index-CVRNv4l5.js";const Y=()=>{const[l,x]=h.useState({}),[L,v]=h.useState(""),b=A(),{login:E}=h.useContext(D),[c,M]=h.useState(!1),[a,S]=h.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""});h.useEffect(()=>{let t=window.innerWidth,i=window.innerHeight,u={x:t/2,y:i/2},m=document.getElementById("demo-canvas"),r,g=[],N=!0;const F=()=>{if(m){r=m.getContext("2d"),m.width=t,m.height=i;for(let e=0;e<t;e+=t/20)for(let n=0;n<i;n+=i/20){let o=e+Math.random()*t/20,d=n+Math.random()*i/20;g.push({x:o,originX:o,y:d,originY:d,active:.3})}g.forEach(e=>{let n=[];g.forEach(o=>{e!==o&&n.push(o)}),n.sort((o,d)=>w(e,o)-w(e,d)),e.closest=n.slice(0,5)}),g.forEach(e=>{y(e)}),j()}},j=()=>{!r||!N||(r.clearRect(0,0,t,i),g.forEach(e=>{w(u,e)<4e3?(e.active=1,e.circle=20):(e.active=0,e.circle=0),k(e),R(e)}),requestAnimationFrame(j))},y=e=>{const n=1+Math.random(),o=e.originX-50+Math.random()*100,d=e.originY-50+Math.random()*100;e.x+=(o-e.x)/n,e.y+=(d-e.y)/n,setTimeout(()=>y(e),n*1e3)},k=e=>{!e.active||!r||e.closest.forEach(n=>{r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(n.x,n.y),r.strokeStyle=`rgba(156,217,249,${e.active})`,r.stroke()})},R=e=>{!e.active||!r||(r.beginPath(),r.arc(e.x,e.y,2,0,2*Math.PI,!1),r.fillStyle=`rgba(156,217,249,${e.active})`,r.fill())},w=(e,n)=>Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2),p=e=>{u.x=e.clientX,u.y=e.clientY};return F(),window.addEventListener("mousemove",p),()=>{N=!1,window.removeEventListener("mousemove",p)}},[]);const f=t=>{const{name:i,value:u}=t.target;S(m=>({...m,[i]:u})),x({}),v("")},C=()=>{let t={};return c&&((!a.firstName||a.firstName.length<2||a.firstName.length>25)&&(t.firstName="Vorname muss zwischen 2 und 25 Zeichen lang sein"),(!a.lastName||a.lastName.length<2||a.lastName.length>25)&&(t.lastName="Nachname muss zwischen 2 und 25 Zeichen lang sein")),(!a.email||!/\S+@\S+\.\S+/.test(a.email))&&(t.email="E-Mail ist ungültig"),(!a.password||a.password.length<6)&&(t.password="Passwort muss mindestens 6 Zeichen lang sein"),c&&a.password!==a.confirmPassword&&(t.confirmPassword="Passwörter stimmen nicht überein"),t},P=t=>{t.preventDefault();const i=C();if(Object.keys(i).length>0){x(i);return}E(a.email,a.password,b)};return s.jsxs("div",{className:"page-container",children:[s.jsx("canvas",{id:"demo-canvas",className:"background-canvas"}),s.jsxs("div",{className:"content-container",children:[s.jsxs("h1",{className:"main-title",children:[s.jsx(I,{})," ",c?"Registrieren":"Anmelden"]}),s.jsxs("div",{className:"login-container",children:[s.jsxs("form",{className:"login-form",onSubmit:P,children:[c&&s.jsxs(s.Fragment,{children:[s.jsx("input",{type:"text",name:"firstName",placeholder:"Vorname",value:a.firstName,onChange:f,autoFocus:!0}),l.firstName&&s.jsx("p",{className:"error",children:l.firstName}),s.jsx("input",{type:"text",name:"lastName",placeholder:"Nachname",value:a.lastName,onChange:f}),l.lastName&&s.jsx("p",{className:"error",children:l.lastName})]}),s.jsx("input",{type:"email",name:"email",placeholder:"E-Mail",value:a.email,onChange:f,autoFocus:!0}),l.email&&s.jsx("p",{className:"error",children:l.email}),s.jsx("input",{type:"password",name:"password",value:a.password,onChange:f}),l.password&&s.jsx("p",{className:"error",children:l.password}),s.jsx("button",{type:"submit",children:c?"Registrieren":"Anmelden"})]}),s.jsx("button",{onClick:()=>{M(!c),x({}),v("")},className:"toggle-button",children:c?"Bereits ein Konto? Anmelden":"Konto benötigt? Registrieren"})]}),s.jsx("div",{className:"blende"})]})]})};export{Y as default};
